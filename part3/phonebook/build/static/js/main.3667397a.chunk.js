(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){'use strict';t.r(n);var c=t(2),a=t(15),o=t.n(a),r=(t(20),t(6)),s=t(3),i=t(0),l=function(e){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)('h2',{className:'text-center',children:'Phonebook'}),Object(i.jsxs)('div',{className:'row',children:[Object(i.jsx)('div',{className:'col-md-4',children:'Search By Name'}),Object(i.jsxs)('div',{className:'col-md-8',children:[' ',Object(i.jsx)('input',{className:'form-control  ',placeholder:'type name here',value:e.newSearch,onChange:e.handleInputSearch})]})]})]})},u=function(e){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)('h2',{className:'text-center',children:'Add new Phonebook'}),Object(i.jsx)('form',{onSubmit:e.handleSubmit,children:Object(i.jsx)('div',{className:'row',children:Object(i.jsx)('div',{className:'  col-md-12  ',children:Object(i.jsxs)('div',{className:'row ',children:[Object(i.jsx)('div',{className:'col-md-1',children:'Name'}),Object(i.jsxs)('div',{className:'col-md-3',children:[Object(i.jsx)('input',{className:'form-control',value:e.newName,onChange:e.handleInputChange}),' ']}),Object(i.jsx)('div',{className:'col-md-1 ',children:'Phone'}),Object(i.jsxs)('div',{className:'col-md-3',children:[Object(i.jsx)('input',{className:'form-control',value:e.newNumber,onChange:e.handleNumberChange}),' ']}),Object(i.jsx)('div',{className:'col-md-4 ',children:Object(i.jsx)('button',{className:'btn btn-primary text-center',type:'submit',children:'Add New Person'})})]})})})})]})},d=function(e){var n=e.persons,t=e.deletePerson;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)('h2',{className:'text-center',children:'PhoneBook List'}),n.map((function(e,n){return Object(i.jsxs)('div',{className:'row ',children:[Object(i.jsx)('div',{className:'col-8',children:Object(i.jsx)('ol',{children:Object(i.jsxs)('div',{className:'row',children:[Object(i.jsx)('div',{className:'col-6',children:e.name}),Object(i.jsx)('div',{className:'col-6',children:e.number}),' ']})})}),Object(i.jsx)('div',{className:' col-4',children:Object(i.jsx)('button',{className:'btn btn-danger',onClick:function(){return t(e.id)},children:'delete'})})]},e.id)}))]})},m=function(e){var n=e.message,t=e.styele;return null===n?null:Object(i.jsx)('div',{className:''.concat(t),children:n})},j=t(4),b=t.n(j),h=function(e){if(e)return e[0].toUpperCase()+e.slice(1).toLowerCase()},f='/api/persons',O=function(){return b.a.get(f).then((function(e){return e.data}))},x=function(e){return b.a.post(f,e).then((function(e){return e.data}))},N=function(e){return b.a.delete(''.concat(f,'/').concat(e))},p=function(e,n){return b.a.put(''.concat(f,'/').concat(n),e).then((function(e){return e.data}))},v=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],a=n[1],o=Object(c.useState)(''),j=Object(s.a)(o,2),b=j[0],f=j[1],v=Object(c.useState)(''),w=Object(s.a)(v,2),g=w[0],S=w[1],C=Object(c.useState)(''),k=Object(s.a)(C,2),y=k[0],P=k[1],T=Object(c.useState)([]),L=Object(s.a)(T,2),I=L[0],A=L[1],B=Object(c.useState)(null),F=Object(s.a)(B,2),E=F[0],J=F[1],D=Object(c.useState)(!1),U=Object(s.a)(D,2),q=U[0],z=U[1];Object(c.useEffect)((function(){O().then((function(e){return a(e)}))}),[]);return Object(i.jsx)('div',{className:'container bg-light ',children:Object(i.jsxs)('div',{className:'col-md-6 offset-md-3',children:[Object(i.jsx)(l,{newSearch:y,handleInputSearch:function(e){P(e.target.value),setTimeout((function(){A(t.filter((function(n){return n.name===h(e.target.value)})))}),1e3)}}),Object(i.jsx)('div',{className:'',children:y&&I.length>0?''.concat(I[0].name,' ').concat(I[0].number):''}),Object(i.jsx)(u,{handleSubmit:b&&g?function(e){if(e.preventDefault(),''===b&&''===g)J('Plese enter Name and phone number'),z('error'),setTimeout((function(){J(null)}),5e3);else if(t.some((function(e){return e.name.toLowerCase()===b.toLowerCase()&&e.number===g})))J(''.concat(b,' is already exis in phonebook')),z('error'),setTimeout((function(){J(null)}),5e3);else if(t.some((function(e){return e.name.toLowerCase()===b.toLowerCase()&&e.number!==g}))){if(window.confirm(''.concat(b,' is already added to phonebook ,update the old phone number with the new one?'))){var n=t.filter((function(e){return e.name===h(b)}))[0].id,c=t.find((function(e){return e.id===n})),o=Object(r.a)(Object(r.a)({},c),{},{number:g});p(o,n).then((function(e){a(t.map((function(t){return t.id===n?e:t}))),J(''.concat(b,'\'s phone number sucessfuly changed to ').concat(g)),z('succes'),setTimeout((function(){J(null)}),5e3)})).catch((function(e){J(''.concat(b,' has been alrady removed from the system')),z('error'),a(t.filter((function(e){return e.name!==b}))),setTimeout((function(){J(null)}),5e3)}))}}else{var s={name:h(b),number:g};x(s).then((function(e){a(t.concat(e)),f(' '),S(' '),J(''.concat(b,' is added to phonebook')),z('succes'),setTimeout((function(){J(null)}),5e3)}))}}:null,newName:b,handleInputChange:function(e){f(e.target.value)},newNumber:g,handleNumberChange:function(e){S(e.target.value)}}),Object(i.jsx)(m,{message:E,styele:q}),Object(i.jsx)(d,{persons:t,deletePerson:function(e){var n=t.filter((function(n){return n.id===e}));console.log(n),window.confirm('Are sure to delete this '.concat(n[0].name))&&N(e).then((function(c){a(t.filter((function(n){return n.id!==e}))),J(''.concat(n[0].name,' is deleted from  phonebook')),z('error'),setTimeout((function(){J(null)}),5e3)}))}})]})})};o.a.render(Object(i.jsx)(v,{}),document.getElementById('root'))}},[[40,1,2]]])
//# sourceMappingURL=main.3667397a.chunk.js.map